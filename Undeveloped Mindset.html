<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Undeveloped Mindset Protocol: Resistance to Evolution</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Share+Tech+Mono&display=swap');

        :root {
            --bg-dark: #10101c;
            --bg-medium: #1c1c2f;
            --panel-bg: #22223a;
            --text-light: #e0e0e0;
            --text-medium: #a0a0c0;
            --accent-blue: #00bcd4;
            --accent-green: #2ecc71;
            --highlight-red: #e74c3c;
            --glow-red: #ff0055; /* Fixed, rigid, old */
            --glow-blue: #00ffff; /* New, dynamic, challenging */
            --glow-purple: #ff00ff;
            --border-color: #3f3f5a;
            --box-bg-normal: #333355;
            --box-bg-highlight: #444466;
            --grid-line-color: rgba(63, 63, 90, 0.3);
        }

        body {
            font-family: 'Share Tech Mono', monospace, Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background-color: var(--bg-dark);
            color: var(--text-light);
            padding: 20px;
            box-sizing: border-box;
            overflow-x: hidden;
        }

        .dashboard-header {
            width: 100%;
            max-width: 1200px;
            text-align: center;
            margin-bottom: 20px;
        }
        h1 {
            font-family: 'Orbitron', sans-serif;
            color: var(--glow-red);
            text-shadow: 0 0 10px var(--glow-red), 0 0 20px var(--glow-red);
            margin-bottom: 5px;
            letter-spacing: 3px;
            font-size: 2.5em;
        }
        p.subtitle {
            font-size: 0.9em;
            color: var(--text-medium);
            margin-bottom: 0;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        .dashboard-main {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 20px;
            width: 100%;
            max-width: 1200px;
            margin-bottom: 20px;
        }

        .dashboard-panel {
            background-color: var(--panel-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            box-shadow: 0 0 15px rgba(255, 0, 85, 0.1);
            padding: 15px;
            box-sizing: border-box;
            position: relative;
        }

        #flowchart-panel {
            min-height: 750px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #cognitive-rigidity-log-panel {
            min-height: 750px;
            display: flex;
            flex-direction: column;
            font-size: 0.9em;
        }
        #cognitive-rigidity-log-panel h2 {
            font-family: 'Orbitron', sans-serif;
            color: var(--accent-blue);
            text-shadow: 0 0 5px var(--accent-blue);
            margin-top: 0;
            margin-bottom: 10px;
            padding-bottom: 5px;
            border-bottom: 1px dashed var(--border-color);
        }
        #cognitive-rigidity-log-text {
            color: var(--text-light);
            line-height: 1.6;
            overflow-y: auto;
            flex-grow: 1;
            padding-right: 5px;
        }
        #cognitive-rigidity-log-text::-webkit-scrollbar {
            width: 8px;
        }
        #cognitive-rigidity-log-text::-webkit-scrollbar-track {
            background: var(--bg-dark);
            border-radius: 10px;
        }
        #cognitive-rigidity-log-text::-webkit-scrollbar-thumb {
            background: var(--border-color);
            border-radius: 10px;
        }
        #cognitive-rigidity-log-text::-webkit-scrollbar-thumb:hover {
            background: var(--accent-blue);
        }

        #flowchart-container {
            position: relative;
            width: 880px;
            height: 710px;
            display: block;
        }
        .flow-box {
            position: absolute;
            width: 250px;
            height: 150px;
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            font-size: 0.9em;
            color: var(--text-light);
            box-sizing: border-box;
            transition: all 0.4s ease-in-out, box-shadow 0.6s ease-in-out;
            border: 2px solid var(--border-color);
            background-color: var(--box-bg-normal);
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.5);
            z-index: 1;
            transform-style: preserve-3d;
        }
        .flow-box.highlight {
            border-color: var(--glow-red);
            box-shadow: 0 0 15px var(--glow-red), 0 0 30px rgba(255, 0, 85, 0.4);
            transform: scale(1.05) rotateY(5deg);
            z-index: 10;
            background-color: var(--box-bg-highlight);
        }

        /* Positioning - unchanged, relative to #flowchart-container */
        #box-1 { top: 10px; left: 10px; }
        #box-2 { top: 10px; left: 310px; }
        #box-3 { top: 10px; left: 610px; }

        #box-4 { top: 240px; left: 10px; }
        #box-5 { top: 240px; left: 310px; }
        #box-6 { top: 240px; left: 610px; }

        #box-7 { top: 470px; left: 10px; }
        #box-8 { top: 470px; left: 310px; }
        #box-9 { top: 470px; left: 610px; }

        /* SVG Arrows */
        svg.arrows {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            pointer-events: none;
            z-index: 0;
        }
        .flow-arrow {
            stroke: var(--text-medium);
            stroke-width: 2;
            fill: none;
            marker-end: url(#arrowhead);
            transition: stroke 0.4s ease-in-out, stroke-width 0.4s ease-in-out, opacity 0.4s ease-in-out;
            opacity: 0.5;
        }
        .flow-arrow.highlight {
            stroke: var(--glow-red);
            stroke-width: 4;
            opacity: 1;
            z-index: 5;
            filter: drop-shadow(0 0 5px var(--glow-red));
        }
        #arrowhead polygon { fill: var(--text-medium); transition: fill 0.4s ease-in-out; }

        /* Icons inside boxes */
        .box-icon {
            margin-bottom: 5px;
            height: 60px;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }
        .box-icon svg {
            height: 100%;
            width: auto;
            max-width: 80%;
        }
        .box-icon svg path, .box-icon svg circle, .box-icon svg rect, .box-icon svg polygon, .box-icon svg line {
            fill: var(--text-medium);
            stroke: none;
            transition: fill 0.4s ease-in-out, stroke 0.4s ease-in-out;
            transform-origin: center center;
            vector-effect: non-scaling-stroke;
        }
        .box-icon svg .stroke-element {
            stroke: var(--text-medium);
            stroke-width: 2px;
            fill: none;
            transition: stroke 0.4s ease-in-out;
        }
        
        .box-text, .small-text {
            font-weight: bold;
            margin-top: 5px;
            transition: color 0.4s ease-in-out;
            letter-spacing: 0.5px;
        }
        .small-text {
            font-size: 0.8em;
            color: var(--text-medium);
            font-weight: normal;
        }

        /* Highlight styles for contents of the highlighted box */
        .flow-box.highlight .box-icon svg path,
        .flow-box.highlight .box-icon svg circle,
        .flow-box.highlight .box-icon svg rect,
        .flow-box.highlight .box-icon svg polygon,
        .flow-box.highlight .box-icon svg line {
            fill: var(--glow-red);
        }
        .flow-box.highlight .box-icon svg .stroke-element {
            stroke: var(--glow-red);
        }
        /* Specific elements that represent 'change' or 'new' */
        .flow-box.highlight .box-icon svg .new-element {
            fill: var(--glow-blue);
            stroke: var(--glow-blue);
        }
        
        .flow-box.highlight .box-text {
            color: var(--glow-red);
            text-shadow: 0 0 5px var(--glow-red);
        }
        .flow-box.highlight .small-text {
            color: var(--highlight-red);
        }

        /* ANIMATIONS */
        .box-icon svg * { animation: none !important; } /* Reset all animations */

        /* 1. ESTABLISHED PATTERN / STATUS QUO: Simple gear rotation */
        @keyframes gearRotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .flow-box.highlight #static-gear { animation: gearRotate 3s linear infinite; }

        /* 2. EXPOSURE TO ALTERNATE METHOD: New circuit trying to connect */
        @keyframes circuitPulse {
            0%, 100% { transform: translateX(0); opacity: 1; }
            50% { transform: translateX(-5px); opacity: 0.8; }
        }
        @keyframes connectionFlicker {
            0%, 100% { stroke: var(--glow-blue); }
            50% { stroke: var(--glow-red); }
        }
        .flow-box.highlight #new-circuit-part { animation: circuitPulse 2s ease-in-out infinite alternate; }
        .flow-box.highlight #connection-attempt { animation: connectionFlicker 1s steps(1) infinite; }

        /* 3. INCOMPREHENSION / MENTAL BLOCK: Question mark & X flash */
        @keyframes qMarkFlash {
            0%, 100% { opacity: 0; transform: scale(0.8); }
            50% { opacity: 1; transform: scale(1); }
        }
        @keyframes xBlockFlash {
            0%, 100% { opacity: 0; }
            50% { opacity: 1; }
        }
        .flow-box.highlight #mental-block-q { animation: qMarkFlash 2s ease-in-out infinite; }
        .flow-box.highlight #mental-block-x { animation: xBlockFlash 2s 1s ease-in-out infinite; }
        #mental-block-q, #mental-block-x { opacity: 0; }

        /* 4. REJECTION OF COMPLEXITY: Figure moving on simple path, ignoring complex */
        @keyframes figureAdvanceSimple {
            0%, 100% { transform: translateX(0); }
            50% { transform: translateX(10px); }
        }
        @keyframes complexPathFade {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 0.2; }
        }
        .flow-box.highlight #simple-path-figure { animation: figureAdvanceSimple 2s ease-in-out infinite alternate; }
        .flow-box.highlight #complex-path { animation: complexPathFade 2s ease-in-out infinite alternate; }

        /* 5. FIXED PROCEDURE / RITUALIZED ACTION: Hand repeating action */
        @keyframes handRepeat {
            0%, 100% { transform: rotate(-10deg); }
            50% { transform: rotate(10deg); }
        }
        @keyframes dotPulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        .flow-box.highlight #repeating-hand { animation: handRepeat 1.5s ease-in-out infinite; }
        .flow-box.highlight #repeat-dot-1 { animation: dotPulse 1s ease-in-out infinite; }
        .flow-box.highlight #repeat-dot-2 { animation: dotPulse 1s 0.2s ease-in-out infinite; }
        .flow-box.highlight #repeat-dot-3 { animation: dotPulse 1s 0.4s ease-in-out infinite; }
        
        /* 6. SUBOPTIMAL EFFICIENCY / LIMITATION: Bar graph peaks and falls */
        @keyframes barGrowth {
            0%, 100% { height: 20px; y: 60px; }
            50% { height: 40px; y: 40px; }
        }
        @keyframes limitLinePulse {
            0%, 100% { opacity: 0.8; }
            50% { opacity: 1; }
        }
        .flow-box.highlight #efficiency-bar { animation: barGrowth 2s ease-in-out infinite alternate; }
        .flow-box.highlight #efficiency-limit { animation: limitLinePulse 1.5s ease-in-out infinite alternate; }

        /* 7. BARRIER TO PROGRESS / STAGNATION: Arrow hitting wall */
        @keyframes arrowBounce {
            0%, 100% { transform: translateX(0); }
            50% { transform: translateX(-10px); }
        }
        @keyframes wallVibrate {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(1px); }
            75% { transform: translateX(-1px); }
        }
        .flow-box.highlight #progress-arrow { animation: arrowBounce 1.5s ease-in-out infinite alternate; }
        .flow-box.highlight #stagnation-wall { animation: wallVibrate 0.5s ease-in-out infinite; }
        
        /* 8. INCREASING OBSOLETE / IRRELEVANCE: Tools separating */
        @keyframes toolSeparate {
            0%, 100% { transform: translateX(0); }
            50% { transform: translateX(-10px); }
        }
        @keyframes modernToolGrow {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        .flow-box.highlight #old-tool { animation: toolSeparate 2s ease-in-out infinite alternate; }
        .flow-box.highlight #modern-tool { animation: modernToolGrow 2s ease-in-out infinite alternate; }

        /* 9. REINFORCED RIGIDITY / COGNITIVE LOOP: Loop with repeating arrow */
        @keyframes loopPathFlow {
            0% { stroke-dashoffset: 0; }
            100% { stroke-dashoffset: 100; }
        }
        @keyframes loopArrowMove {
            0% { offset-distance: 0%; }
            100% { offset-distance: 100%; }
        }
        .flow-box.highlight #cognitive-loop-path {
            stroke-dasharray: 10 5;
            animation: loopPathFlow 3s linear infinite;
        }
        .flow-box.highlight #loop-arrow-head { animation: loopArrowMove 3s linear infinite; }
    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
</head>
<body>
    <div class="dashboard-header">
        <h1>UNDEVELOPED MINDSET PROTOCOL: RESISTANCE TO EVOLUTION</h1>
        <p class="subtitle">ANALYZING ADHERENCE TO ESTABLISHED NORMS AND INABILITY TO ADAPT</p>
    </div>

    <div class="dashboard-main">
        <div id="flowchart-panel" class="dashboard-panel">
            <div id="flowchart-container">
                <!-- SVG for arrows -->
                <svg class="arrows" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                            <polygon points="0 0, 10 3.5, 0 7" class="arrowhead-polygon" style="fill:var(--text-medium);" />
                        </marker>
                        <marker id="loop-arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                            <polygon points="0 0, 10 3.5, 0 7" class="arrowhead-polygon" fill="var(--glow-red)" />
                        </marker>
                    </defs>
                    <!-- Top row horizontal arrows -->
                    <line id="arrow-1-2" class="flow-arrow" x1="270" y1="85" x2="310" y2="85" />
                    <line id="arrow-2-3" class="flow-arrow" x1="570" y1="85" x2="610" y2="85" />
                    
                    <!-- Mid row horizontal arrows -->
                    <line id="arrow-4-5" class="flow-arrow" x1="270" y1="315" x2="310" y2="315" />
                    <line id="arrow-5-6" class="flow-arrow" x1="570" y1="315" x2="610" y2="315" />

                    <!-- Bottom row horizontal arrows -->
                    <line id="arrow-7-8" class="flow-arrow" x1="270" y1="545" x2="310" y2="545" />
                    <line id="arrow-8-9" class="flow-arrow" x1="570" y1="545" x2="610" y2="545" />

                    <!-- Vertical arrows (connecting main column flow) -->
                    <line id="arrow-3-6" class="flow-arrow" x1="735" y1="160" x2="735" y2="240" />
                    <line id="arrow-6-9" class="flow-arrow" x1="735" y1="390" x2="735" y2="470" />
                </svg>

                <!-- Flowchart Boxes -->
                <div id="box-1" class="flow-box">
                    <div class="box-icon">
                        <svg viewBox="0 0 100 100">
                            <circle id="static-gear" cx="50" cy="50" r="30" fill="#2a2a4a" class="stroke-element"/>
                            <path d="M50 20 L55 25 L45 25 Z M50 80 L45 75 L55 75 Z M20 50 L25 55 L25 45 Z M80 50 L75 45 L75 55 Z" fill="var(--text-medium)"/>
                        </svg>
                    </div>
                    <div class="box-text">ESTABLISHED PATTERN / STATUS QUO</div>
                </div>

                <div id="box-2" class="flow-box">
                    <div class="box-icon">
                        <svg viewBox="0 0 100 100">
                            <rect x="50" y="30" width="30" height="40" fill="#2a2a4a" class="stroke-element"/>
                            <path id="new-circuit-part" d="M20 30 L40 30 L40 40 L20 40 Z M20 50 L40 50 L40 60 L20 60 Z" fill="var(--glow-blue)" class="new-element"/>
                            <line id="connection-attempt" x1="40" y1="45" x2="50" y2="45" class="stroke-element" stroke-width="2"/>
                        </svg>
                    </div>
                    <div class="box-text">EXPOSURE TO ALTERNATE METHOD</div>
                    <div class="small-text">[POTENTIAL UPGRADE]</div>
                </div>

                <div id="box-3" class="flow-box">
                    <div class="box-icon">
                        <svg viewBox="0 0 100 100">
                            <circle cx="50" cy="50" r="35" fill="#2a2a4a" class="stroke-element"/>
                            <text id="mental-block-q" x="50" y="45" font-size="30" text-anchor="middle" fill="var(--glow-blue)">?</text>
                            <text id="mental-block-x" x="50" y="70" font-size="40" text-anchor="middle" fill="var(--glow-red)">X</text>
                        </svg>
                    </div>
                    <div class="box-text">INCOMPREHENSION / MENTAL BLOCK</div>
                </div>

                <div id="box-4" class="flow-box">
                    <div class="box-icon">
                        <svg viewBox="0 0 100 100">
                            <line x1="20" y1="70" x2="80" y2="70" class="stroke-element" stroke-width="3"/>
                            <path d="M50 40 L40 60 H60 Z M45 45 L55 45 M50 50 L50 55" fill="var(--text-medium)"/>
                            <g id="complex-path" opacity="0.5">
                                <path d="M20 30 C30 20, 70 20, 80 30" class="stroke-element"/>
                                <path d="M30 40 C40 30, 60 30, 70 40" class="stroke-element"/>
                            </g>
                            <circle id="simple-path-figure" cx="20" cy="70" r="5" fill="var(--glow-red)"/>
                        </svg>
                    </div>
                    <div class="box-text">REJECTION OF COMPLEXITY</div>
                    <div class="small-text">[PREFERENCE FOR SIMPLE]</div>
                </div>

                <div id="box-5" class="flow-box">
                    <div class="box-icon">
                        <svg viewBox="0 0 100 100">
                            <path d="M60 40 Q70 30 70 20 L80 20 L80 50 Q70 60 60 50 L60 40" fill="#2a2a4a"/>
                            <path id="repeating-hand" d="M60 50 Q50 60 40 50 C30 50, 30 70, 40 70 L60 70 C70 70, 70 50, 60 50 Z" fill="var(--text-medium)" transform-origin="50% 50%"/>
                            <circle id="repeat-dot-1" cx="30" cy="30" r="5" fill="var(--glow-red)"/>
                            <circle id="repeat-dot-2" cx="45" cy="30" r="5" fill="var(--glow-red)"/>
                            <circle id="repeat-dot-3" cx="60" cy="30" r="5" fill="var(--glow-red)"/>
                        </svg>
                    </div>
                    <div class="box-text">FIXED PROCEDURE / RITUALIZED ACTION</div>
                    <div class="small-text">[&quot;THIS IS HOW WE DO IT&quot;]</div>
                </div>

                <div id="box-6" class="flow-box">
                    <div class="box-icon">
                        <svg viewBox="0 0 100 100">
                            <rect x="20" y="60" width="15" height="20" fill="var(--text-medium)"/>
                            <rect x="40" y="60" width="15" height="20" fill="var(--text-medium)"/>
                            <rect id="efficiency-bar" x="60" y="60" width="15" height="20" fill="var(--glow-red)"/>
                            <line id="efficiency-limit" x1="15" y1="35" x2="85" y2="35" class="stroke-element" stroke-width="2" stroke="var(--glow-blue)"/>
                        </svg>
                    </div>
                    <div class="box-text">SUBOPTIMAL EFFICIENCY / LIMITATION</div>
                    <div class="small-text">[MISSED POTENTIAL]</div>
                </div>

                <div id="box-7" class="flow-box">
                    <div class="box-icon">
                        <svg viewBox="0 0 100 100">
                            <rect id="stagnation-wall" x="40" y="20" width="20" height="60" fill="#2a2a4a" class="stroke-element"/>
                            <path id="progress-arrow" d="M10 50 L30 40 L30 60 Z" fill="var(--glow-blue)" class="new-element"/>
                            <text x="70" y="55" font-size="10" text-anchor="middle" fill="var(--text-medium)">NO ENTRY</text>
                        </svg>
                    </div>
                    <div class="box-text">BARRIER TO PROGRESS / STAGNATION</div>
                </div>

                <div id="box-8" class="flow-box">
                    <div class="box-icon">
                        <svg viewBox="0 0 100 100">
                            <rect id="old-tool" x="20" y="40" width="30" height="30" fill="#2a2a4a" class="stroke-element"/>
                            <path id="modern-tool" d="M70 20 L75 30 L80 40 L80 60 L75 70 L70 80 L60 70 L60 30 Z" fill="var(--glow-blue)" class="new-element"/>
                        </svg>
                    </div>
                    <div class="box-text">INCREASING OBSOLETE / IRRELEVANCE</div>
                    <div class="small-text">[WIDENING GAP]</div>
                </div>

                <div id="box-9" class="flow-box">
                    <div class="box-icon">
                        <svg viewBox="0 0 100 100">
                            <path id="cognitive-loop-path" d="M20 50 A30 30 0 1 1 80 50 A30 30 0 1 1 20 50 Z" fill="none" class="stroke-element" stroke-width="3"/>
                            <circle cx="50" cy="50" r="10" fill="#2a2a4a"/>
                            <path id="loop-arrow-head" d="M80 50 L75 53.5 L75 46.5 Z" fill="var(--glow-red)" marker-start="url(#loop-arrow)" style="offset-path: path('M20 50 A30 30 0 1 1 80 50 A30 30 0 1 1 20 50 Z');"/>
                        </svg>
                    </div>
                    <div class="box-text">REINFORCED RIGIDITY / COGNITIVE LOOP</div>
                </div>
            </div>
        </div>

        <div id="cognitive-rigidity-log-panel" class="dashboard-panel">
            <h2>COGNITIVE RIGIDITY LOG</h2>
            <div id="cognitive-rigidity-log-text">
                <p>Welcome to the Undeveloped Mindset Protocol Dashboard. This system analyzes adherence to established norms and the fundamental resistance to evolving methods.</p>
                <p>Use the navigation controls below to observe each stage, from the comfort of current practices to the potential for stagnation and irrelevance.</p>
                <p><strong>Status:</strong> Awaiting Diagnostic Input.</p>
            </div>
        </div>
    </div>

    <div class="dashboard-controls">
        <button id="prevBtn" disabled>PREVIOUS STAGE</button>
        <button id="nextBtn">NEXT STAGE</button>
        <p id="currentStepText">STAGE <span id="currentStepNumber">0</span> OF <span id="totalStepsNumber"></span></p>
    </div>

    <script>
        const flowchartBoxes = [
            null, // Step 0 is just initial state, no box highlighted
            { id: 'box-1', arrow: null, description: '<h2>STAGE 1: ESTABLISHED PATTERN / STATUS QUO</h2><p><strong>ANALYSIS:</strong> The default state where existing methods, routines, and beliefs are accepted as optimal simply because "they work" or "they always have." There is no perceived need for evaluation or improvement.</p><p><strong>OBSERVATIONS:</strong> Habitual actions, unquestioning adherence to tradition, efficiency is measured by familiarity rather than actual output, comfort in predictability.</p>' },
            { id: 'box-2', arrow: 'arrow-1-2', description: '<h2>STAGE 2: EXPOSURE TO ALTERNATE METHOD</h2><p><strong>ANALYSIS:</strong> The individual encounters a new way of doing things, a different perspective, or an innovative solution. This input directly contrasts with their established pattern but is not yet processed as a threat.</p><p><strong>OBSERVATIONS:</strong> Witnessing a more efficient process, receiving a suggestion for improvement, being introduced to new technology, observing diverse cultural practices.</p>' },
            { id: 'box-3', arrow: 'arrow-2-3', description: '<h2>STAGE 3: INCOMPREHENSION / MENTAL BLOCK</h2><p><strong>ANALYSIS:</strong> The new method is not simply dismissed, but genuinely fails to be grasped or understood. It is perceived as overly complex, unnecessary, or beyond their capacity to learn, leading to an immediate cognitive shutdown.</p><p><strong>OBSERVATIONS:</strong> Expressing confusion, stating "I don\'t get it," "that\'s too complicated," or "why would anyone do it that way?" before engaging with the specifics.</p>' },
            { id: 'box-4', arrow: 'arrow-3-6', description: '<h2>STAGE 4: REJECTION OF COMPLEXITY</h2><p><strong>ANALYSIS:</strong> A conscious decision to stick with simpler, known methods, even if less efficient. The perceived effort required to understand and implement change outweighs the potential benefits, often due to an underdeveloped capacity for complex problem-solving.</p><p><strong>OBSERVATIONS:</strong> Articulating a preference for simplicity ("Keep it simple"), resisting detailed explanations, stating that the old way is "good enough," a fear of the unknown.</p>' },
            { id: 'box-5', arrow: 'arrow-4-5', description: '<h2>STAGE 5: FIXED PROCEDURE / RITUALIZED ACTION</h2><p><strong>ANALYSIS:</strong> The individual entrenches themselves further into the established pattern. Their actions become rigid and ritualistic, reinforcing the belief that "this is the only correct way" and discouraging any deviation.</p><p><strong>OBSERVATIONS:</strong> Strict adherence to outdated protocols, resistance to experimentation, performing tasks mechanically without critical thought, an inability to improvise.</p>' },
            { id: 'box-6', arrow: 'arrow-5-6', description: '<h2>STAGE 6: SUBOPTIMAL EFFICIENCY / LIMITATION</h2><p><strong>ANALYSIS:</strong> The natural consequence of an undeveloped mindset. Performance remains below potential, opportunities are missed, and the individual (or their system) operates at a lower level than possible due to the refusal to adapt.</p><p><strong>OBSERVATIONS:</strong> Slow task completion, unnecessary errors, repetitive mistakes, inability to scale operations, complaints about excessive effort for minimal gain.</p>' },
            { id: 'box-7', arrow: 'arrow-6-9', description: '<h2>STAGE 7: BARRIER TO PROGRESS / STAGNATION</h2><p><strong>ANALYSIS:</strong> The undeveloped mindset acts as a self-imposed barrier, preventing personal, professional, or organizational growth. The individual remains stuck while others (or the environment) move forward.</p><p><strong>OBSERVATIONS:</strong> Lack of new skills acquisition, missed promotions or opportunities, a feeling of being left behind, inability to meet evolving demands, falling behind competitors.</p>' },
            { id: 'box-8', arrow: 'arrow-7-8', description: '<h2>STAGE 8: INCREASING OBSOLETE / IRRELEVANCE</h2><p><strong>ANALYSIS:</strong> As the external world continues to evolve, the established patterns and knowledge of the individual become increasingly outdated and irrelevant. The gap between their capabilities and modern demands widens significantly.</p><p><strong>OBSERVATIONS:</strong> Skills become unmarketable, knowledge is no longer applicable, difficulty understanding current trends, being perceived as out of touch or resistant to progress.</p>' },
            { id: 'box-9', arrow: 'arrow-8-9', description: '<h2>STAGE 9: REINFORCED RIGIDITY / COGNITIVE LOOP</h2><p><strong>ANALYSIS:</strong> The lack of success or increased difficulty experienced in later stages often reinforces the undeveloped mindset. Instead of seeking change, the individual concludes that the "new ways" are indeed faulty, or that they personally "can\'t" change, further solidifying their rigidity in a self-perpetuating cycle.</p><p><strong>OBSERVATIONS:</strong> Increased stubbornness, blaming external factors for failures, retreating deeper into familiar routines, a conviction that learning new things is futile, a complete cessation of exploratory behavior.</p>' },
        ];

        let currentStep = 0;
        const totalSteps = flowchartBoxes.length - 1;

        const nextBtn = document.getElementById('nextBtn');
        const prevBtn = document.getElementById('prevBtn');
        const cognitiveRigidityLogText = document.getElementById('cognitive-rigidity-log-text');
        const currentStepNumber = document.getElementById('currentStepNumber');
        const totalStepsNumber = document.getElementById('totalStepsNumber');
        const arrowheadPolygon = document.querySelector('#arrowhead .arrowhead-polygon');
        const loopArrowHead = document.getElementById('loop-arrow-head');

        totalStepsNumber.textContent = totalSteps;

        // Function to reset all animations and dynamic styles
        function resetAnimations() {
            document.querySelectorAll('.box-icon svg *').forEach(el => {
                el.style.animation = '';
                el.style.filter = '';
                el.style.transform = '';
            });

            // Specific opacity/visibility resets for elements that are hidden by default or fade in
            // Box 1
            document.getElementById('static-gear').style.transform = '';
            // Box 2
            document.getElementById('new-circuit-part').style.transform = '';
            document.getElementById('new-circuit-part').style.opacity = 1;
            document.getElementById('connection-attempt').style.stroke = 'var(--text-medium)';
            // Box 3
            document.getElementById('mental-block-q').style.opacity = 0;
            document.getElementById('mental-block-x').style.opacity = 0;
            // Box 4
            document.getElementById('simple-path-figure').style.transform = '';
            document.getElementById('complex-path').style.opacity = 0.5;
            // Box 5
            document.getElementById('repeating-hand').style.transform = '';
            document.getElementById('repeat-dot-1').style.opacity = 1;
            document.getElementById('repeat-dot-2').style.opacity = 1;
            document.getElementById('repeat-dot-3').style.opacity = 1;
            // Box 6
            document.getElementById('efficiency-bar').style.height = '20px';
            document.getElementById('efficiency-bar').style.y = '60px';
            document.getElementById('efficiency-limit').style.opacity = 0.8;
            // Box 7
            document.getElementById('progress-arrow').style.transform = '';
            document.getElementById('stagnation-wall').style.transform = '';
            // Box 8
            document.getElementById('old-tool').style.transform = '';
            document.getElementById('modern-tool').style.transform = '';
            // Box 9
            document.getElementById('cognitive-loop-path').style.strokeDashoffset = '';
            loopArrowHead.style.offsetDistance = '0%';
        }

        function updateFlowchart() {
            // Remove highlight from all boxes and arrows first
            document.querySelectorAll('.flow-box').forEach(box => box.classList.remove('highlight'));
            document.querySelectorAll('.flow-arrow').forEach(arrow => {
                arrow.classList.remove('highlight');
                arrow.style.stroke = 'var(--text-medium)';
            });
            // Reset main arrowhead color
            arrowheadPolygon.style.fill = 'var(--text-medium)';
            // Ensure loop arrow head is reset as well
            document.querySelector('#loop-arrow .arrowhead-polygon').style.fill = 'var(--text-medium)';


            // Reset all icon animations before applying new ones
            resetAnimations();

            currentStepNumber.textContent = currentStep;

            if (currentStep === 0) {
                cognitiveRigidityLogText.innerHTML = '<p>Welcome to the Undeveloped Mindset Protocol Dashboard. This system analyzes adherence to established norms and the fundamental resistance to evolving methods.</p><p>Use the navigation controls below to observe each stage, from the comfort of current practices to the potential for stagnation and irrelevance.</p><p><strong>Status:</strong> Awaiting Diagnostic Input.</p>';
            } else {
                const currentPhase = flowchartBoxes[currentStep];
                // Highlight the current box
                const currentBox = document.getElementById(currentPhase.id);
                currentBox.classList.add('highlight');
                
                // Highlight the arrow *leading to* this step (if defined)
                if (currentPhase.arrow) {
                    const arrowElement = document.getElementById(currentPhase.arrow);
                    arrowElement.classList.add('highlight');
                    arrowElement.style.stroke = 'var(--glow-red)'; // Set arrow color
                    arrowheadPolygon.style.fill = 'var(--glow-red)'; // Set arrowhead color
                    document.querySelector('#loop-arrow .arrowhead-polygon').style.fill = 'var(--glow-red)'; // Update all marker fills
                }
                cognitiveRigidityLogText.innerHTML = currentPhase.description;

                // Trigger specific animations for the highlighted box's icon
                switch(currentPhase.id) {
                    case 'box-1':
                        // Animations tied to CSS class highlight
                        break;
                    case 'box-2':
                        // Animations tied to CSS class highlight
                        break;
                    case 'box-3':
                        document.getElementById('mental-block-q').style.opacity = 1;
                        document.getElementById('mental-block-x').style.opacity = 1;
                        break;
                    case 'box-4':
                        // Animations tied to CSS class highlight
                        break;
                    case 'box-5':
                        // Animations tied to CSS class highlight
                        break;
                    case 'box-6':
                        // Animations tied to CSS class highlight
                        break;
                    case 'box-7':
                        // Animations tied to CSS class highlight
                        break;
                    case 'box-8':
                        // Animations tied to CSS class highlight
                        break;
                    case 'box-9':
                        // Animations tied to CSS class highlight
                        break;
                }
            }

            // Update button states
            prevBtn.disabled = currentStep === 0;
            nextBtn.disabled = currentStep === totalSteps;
        }

        nextBtn.addEventListener('click', () => {
            if (currentStep < totalSteps) {
                currentStep++;
                updateFlowchart();
            }
        });

        prevBtn.addEventListener('click', () => {
            if (currentStep > 0) {
                currentStep--;
                updateFlowchart();
            }
        });

        document.addEventListener('DOMContentLoaded', updateFlowchart);
    </script>
</body>
</html>
